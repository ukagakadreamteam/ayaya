
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">


<head profile="http://purl.org/net/ns/metaprof">
 <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
 <meta http-equiv="content-style-type" content="text/css" />

 <title>YAYA as SAORI - AYAYA/03</title>
 <link rel="stylesheet" href="style.css" type="text/css" media="screen" charset="UTF-8" />
 <!--<link rel="stylesheet" href="skin/default.css" type="text/css" media="screen" charset="UTF-8" />-->
 <!--<link rel="stylesheet" href="skin/print.css" type="text/css" media="print" charset="UTF-8" />-->
 <!--<link rel="stylesheet" href="/svgd/table.css" type="text/css" />-->
 <!--<link rel="alternate" type="application/rss+xml" title="RSS" href="cmd=mixirss&amp;ver=0.91" />--> 
 <script type="text/javascript">
 <!--
 // -->
 IMAGE_DIR = 'image/';
 SKIN_DIR = 'skin/';
 </script>
<!-- <script type="text/javascript" src="skin/lang/.js"></script> -->
<!--<script type="text/javascript" src="skin/default.js"></script>-->
<!-- <script type="text/javascript" src="skin/ajax/textloader.js"></script> -->
<!-- <script type="text/javascript" src="skin/ajax/glossary.js"></script> -->
 <!--<script type="text/javascript" src="skin/tzCalculation_LocalTimeZone.js"></script>-->
</head>

<body>
<p id="original_doc_link">https://emily.shillest.net/ayaya/index.php?YAYA+as+SAORI</p>

<div id="interface_header"></div>

<div id="interface_content">
   <div id="body">
<h2 id="content_1_0">YAYA as SAORI<a class="anchor_super" id="o02c2104" href="YAYA+as+SAORI#o02c2104" style="user-select:none;">&dagger;</a></h2>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_1">概要<a class="anchor_super" id="v6559840" href="YAYA+as+SAORI#v6559840" style="user-select:none;">&dagger;</a></h3>
<p>摂理氏作、yaya.dllをSAORIとして呼び出すモジュールです。<br />
YAYA以外のSHIORIからYAYAの機能を使う事が可能になります。<br />
<br />
デフォルトの状態ではYAYAのビルトイン（システム）関数のみ利用できます。<br />
追加モジュールを導入することにより更に用途が広がります。YAYAの文法がわかる人はこの追加モジュールを自分で作成することができます。<br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_2">ダウンロード<a class="anchor_super" id="s8da38b1" href="YAYA+as+SAORI#s8da38b1" style="user-select:none;">&dagger;</a></h3>
<ul class="list1 list-indent1"><li><del><a href="plugin=attach&amp;refer=YAYA%20as%20SAORI&amp;openfile=yaya_as_saori_2021_10_08.zip" title="2021/10/08 14:07:19 481.2KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2021_10_08.zip</a></del></li>
<li><a href="https://github.com/YAYA-shiori/yaya-as-saori/releases" rel="nofollow">Releases · YAYA-shiori/yaya-as-saori · GitHub</a></li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_3">追加モジュール<a class="anchor_super" id="x4604829" href="YAYA+as+SAORI#x4604829" style="user-select:none;">&dagger;</a></h3>
<ul class="list1 list-indent1"><li><a href="http://c-lege.hacca.jp/ukgk/ukst.html" rel="nofollow">jsonパーサ with オブジェクト風の何か</a>
<ul class="list2 list-indent1"><li>jsonをjavascriptのオブジェクト風に読み込み、要素の取り出し等の操作が行えるモジュール。</li></ul></li>
<li><a href="http://gallnuts.webcrow.jp/dump.shtml" rel="nofollow">calendae</a>
<ul class="list2 list-indent1"><li>暦に関する計算機能モジュール。</li></ul></li>
<li><a href="http://gallnuts.webcrow.jp/dump.shtml" rel="nofollow">sub-edittext</a>
<ul class="list2 list-indent1"><li>テキストファイルの編集機能モジュール。</li></ul></li>
<li><a href="http://rabbitbike.oh.land.to/nicky/log200803.html" rel="nofollow">ssu.aym</a>
<ul class="list2 list-indent1"><li>ssu（里々同梱SAORI）と同じ動作をさせる。</li></ul></li>
<li><a href="http://navy.nm.land.to/post/" rel="nofollow">Reta</a>
<ul class="list2 list-indent1"><li>テキストファイルやインストールされてるゴーストのシェル名、文/里々/華和梨/美坂のセーブデータを読み取る。</li></ul></li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_4">解説サイト<a class="anchor_super" id="x29fb7ef" href="YAYA+as+SAORI#x29fb7ef" style="user-select:none;">&dagger;</a></h3>
<ul class="list1 list-indent1"><li><a href="http://soliton.sub.jp/satori/index.php?SAORI%2FYAYA" rel="nofollow">SAORI/YAYA - 里々Wiki</a>
<ul class="list2 list-indent1"><li>里々から利用する方法の解説。</li></ul></li>
<li><a href="http://navy.nm.land.to/post/a_a_s.html" rel="nofollow">AYA as SAORI里々向け簡易解説</a>
<ul class="list2 list-indent1"><li>AYA as SAORIの方の解説ですがYAYA as SAORIでも利用可能（ただしYAYAから追加された関数は無し）</li></ul></li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_5">デモゴースト<a class="anchor_super" id="f42bf566" href="YAYA+as+SAORI#f42bf566" style="user-select:none;">&dagger;</a></h3>
<ul class="list1 list-indent1"><li><a href="http://navy.nm.land.to/post/" rel="nofollow">紺野さやめ</a>
<ul class="list2 list-indent1"><li>里々用デモゴースト。同梱されているSAORIのバージョンが古いため、入れ替え推奨。</li></ul></li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_6">モジュールの自作<a class="anchor_super" id="g9f48a79" href="YAYA+as+SAORI#g9f48a79" style="user-select:none;">&dagger;</a></h3>
<ul class="list1 list-indent1"><li>通常の辞書と同じように、<span class="noexists"><a href="cmd=edit&amp;page=1.%E5%9F%BA%E7%A4%8E%E8%A8%AD%E5%AE%9A&amp;refer=YAYA%20as%20SAORI">yaya.txt</a></span>に追記することで自由に追加できます。
<p>慣習上「.aym」という拡張子（※aya moduleの略）にする事が多いですが、それ以外であっても動作に影響はありません。</p></li>
<li>SAORIの引数は、モジュール内でREQ.ARGS[*]という配列に格納されています。
<p>Argument0はREQ.ARGS[0]で、それ以降も同様です。</p></li>
<li>SAORIの戻り値は、モジュール内でRES.RESULTおよびRES.VALUE*という変数に代入する事で返却します。
<p>単数戻り値ResultはRES.RESULTに、複数戻り値Value*はそれぞれ一つずつRES.VALUE*に返却します。</p>
<p>RES.VALUE*は<strong>配列ではない</strong>事に注意してください。代入にはシステム関数<span class="noexists"><a href="cmd=edit&amp;page=LETTONAME&amp;refer=YAYA%20as%20SAORI">LETTONAME</a></span>が便利であるかもしれません。</p></li>
<li>もし引数が不正等の理由から、SAORIとしての機能が正常に実行出来なかった場合には、関数の戻り値として（SAORI戻り値ではなく）数値-1を返却します。
<p>YAYA as SAORIシステム部が戻り値として-1を受け取ると、不正な呼び出しとしてエラーを通知します。</p>
<p>この時、YAYAのシステム関数<span class="noexists"><a href="cmd=edit&amp;page=LOGGING&amp;refer=YAYA%20as%20SAORI">LOGGING</a></span>を利用して、エラーが発生したSAORI関数名とエラーの説明をログに残す事が推奨されます。</p></li>
<li>関数名は自由に設定して構いませんが、「モジュール名.関数名」といった組成にすることには少なくとも二つ意味があります。
<ul class="list2 list-indent1"><li>一つは、そうした組成の関数名について、YAYA as SAORIはモジュールのロード・アンロード用の仕組みを提供していることです。
<p>モジュール名.関数名というピリオドを含む関数名が呼び出された時、YAYA as SAORIはモジュール名の部分を記憶します。</p>
<p>そして、同一のモジュール名を持つ関数が始めて呼ばれたときに、<strong>モジュール名.Load</strong>という関数がないかを探し、あれば実行します。</p>
<p>また、yaya.dllがアンロードされるとき、<strong>モジュール名.Unload</strong>という関数がないかを探し、あれば実行します。</p>
<p>モジュール全体にわたって共通のグローバル変数を利用するような場合には、初期化・後始末にこうした仕組みを利用できるでしょう。</p></li>
<li>もう一つは、このようにモジュール名を関数名の前に冠しておくことで、いくらか関数名が重複しにくくなることです。
<p>モジュールは異なる複数人が作成した物が共存することがありますし、当然一人で複数のモジュールを個別に作ることもあります。</p>
<p>そうした場合を想定してこのように命名しておけば、関数名が重複するリスクをある程度低めることができるでしょう。</p></li></ul></li></ul>
   
   	 	
	</div>
</div>



<div id="attach">
<hr class="full_hr" />添付ファイル: <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2021_10_08.zip&amp;refer=YAYA%20as%20SAORI" title="2021/10/08 14:07:19 481.2KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2021_10_08.zip</a> <span class="small">548件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2021_10_08.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2021_08_31.zip&amp;refer=YAYA%20as%20SAORI" title="2021/08/31 18:24:26 478.6KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2021_08_31.zip</a> <span class="small">293件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2021_08_31.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2021_07_16.zip&amp;refer=YAYA%20as%20SAORI" title="2021/07/16 19:01:50 471.2KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2021_07_16.zip</a> <span class="small">329件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2021_07_16.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2021_07_11-2.zip&amp;refer=YAYA%20as%20SAORI" title="2021/07/11 21:23:36 471.2KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2021_07_11-2.zip</a> <span class="small">286件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2021_07_11-2.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2021_07_11.zip&amp;refer=YAYA%20as%20SAORI" title="2021/07/11 07:52:05 471.0KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2021_07_11.zip</a> <span class="small">301件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2021_07_11.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2021_07_10.zip&amp;refer=YAYA%20as%20SAORI" title="2021/07/10 14:04:41 470.8KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2021_07_10.zip</a> <span class="small">315件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2021_07_10.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2021_06_30.zip&amp;refer=YAYA%20as%20SAORI" title="2021/06/30 06:47:50 462.5KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2021_06_30.zip</a> <span class="small">302件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2021_06_30.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2021_06_28.zip&amp;refer=YAYA%20as%20SAORI" title="2021/06/28 07:32:16 462.5KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2021_06_28.zip</a> <span class="small">294件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2021_06_28.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2021_06_25.zip&amp;refer=YAYA%20as%20SAORI" title="2021/06/25 21:26:47 460.7KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2021_06_25.zip</a> <span class="small">334件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2021_06_25.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2021_06_24-2.zip&amp;refer=YAYA%20as%20SAORI" title="2021/06/24 19:00:44 458.4KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2021_06_24-2.zip</a> <span class="small">331件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2021_06_24-2.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2021_06_24.zip&amp;refer=YAYA%20as%20SAORI" title="2021/06/24 18:08:53 458.4KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2021_06_24.zip</a> <span class="small">315件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2021_06_24.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2021_06_17.zip&amp;refer=YAYA%20as%20SAORI" title="2021/06/17 06:52:40 457.7KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2021_06_17.zip</a> <span class="small">321件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2021_06_17.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2021_06_14-2.zip&amp;refer=YAYA%20as%20SAORI" title="2021/06/14 21:56:34 457.6KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2021_06_14-2.zip</a> <span class="small">296件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2021_06_14-2.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2021_06_14.zip&amp;refer=YAYA%20as%20SAORI" title="2021/06/14 20:20:13 457.6KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2021_06_14.zip</a> <span class="small">287件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2021_06_14.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2015_12_30.zip&amp;refer=YAYA%20as%20SAORI" title="2015/12/30 21:36:31 322.2KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2015_12_30.zip</a> <span class="small">1292件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2015_12_30.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2014_11_08b.zip&amp;refer=YAYA%20as%20SAORI" title="2014/11/08 15:43:27 322.1KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2014_11_08b.zip</a> <span class="small">936件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2014_11_08b.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2014_11_08.zip&amp;refer=YAYA%20as%20SAORI" title="2014/11/08 00:32:21 322.8KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2014_11_08.zip</a> <span class="small">785件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2014_11_08.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 <a href="plugin=attach&amp;pcmd=open&amp;file=yaya_as_saori_2014_01_04.zip&amp;refer=YAYA%20as%20SAORI" title="2014/01/04 16:41:45 322.0KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />yaya_as_saori_2014_01_04.zip</a> <span class="small">900件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=yaya_as_saori_2014_01_04.zip&amp;refer=YAYA%20as%20SAORI" title="添付ファイルの情報">詳細</a>]</span>
 
</div>

<table cellspacing=0 width=100%>
<tr><td id=footer>


<div id="lastmodified">
 Last modified on: 2022-10-10 (Monday) 09:09:59<span class="page_passage"></span></div>


<div id="related">
 Related pages: <a href="MenuBar">MenuBar</a><span class="page_passage"></span>
 <a href="index.php">FrontPage</a><span class="page_passage"></span>
 <a href="startup/migrate_from_satori.html">StartUp/Migrate from Satori</a><span class="page_passage"></span>
 <a href="StartUp">StartUp</a><span class="page_passage"></span></div>


</td></tr>
</table>

<div id="interface_footer"></div>

<script src="interface.js"></script>

</body>
</html>
