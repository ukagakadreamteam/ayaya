
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">


<head profile="http://purl.org/net/ns/metaprof">
 <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
 <meta http-equiv="content-style-type" content="text/css" />

 <title>マニュアル/文法/8.プリプロセス - AYAYA/03</title>
 <link rel="stylesheet" href="../../style.css" type="text/css" media="screen" charset="UTF-8" />
 <!--<link rel="stylesheet" href="skin/default.css" type="text/css" media="screen" charset="UTF-8" />-->
 <!--<link rel="stylesheet" href="skin/print.css" type="text/css" media="print" charset="UTF-8" />-->
 <!--<link rel="stylesheet" href="/svgd/table.css" type="text/css" />-->
 <!--<link rel="alternate" type="application/rss+xml" title="RSS" href="../../cmd=mixirss&amp;ver=0.91.html" />--> 
 <script type="text/javascript">
 <!--
 // -->
 IMAGE_DIR = 'image/';
 SKIN_DIR = 'skin/';
 </script>
<!-- <script type="text/javascript" src="skin/lang/.js"></script> -->
<!--<script type="text/javascript" src="skin/default.js"></script>-->
<!-- <script type="text/javascript" src="skin/ajax/textloader.js"></script> -->
<!-- <script type="text/javascript" src="skin/ajax/glossary.js"></script> -->
 <!--<script type="text/javascript" src="skin/tzCalculation_LocalTimeZone.js"></script>-->
</head>

<body>

<div id="interface_header"></div>

<div id="interface_content">
   <div id="body"><ul class="navi">
 <li class="navi_left"><a href="../../manual/%E6%96%87%E6%B3%95/7.%E3%83%95%E3%83%AD%E3%83%BC%E5%88%B6%E5%BE%A1.html" title="マニュアル/文法/7.フロー制御" class="link_page_passage">Prev</a></li>
 <li class="navi_right"><a href="../../manual/%E6%96%87%E6%B3%95/9.%E4%BA%88%E7%B4%84%E8%AA%9E.html" title="マニュアル/文法/9.予約語" class="link_page_passage">Next</a></li>
 <li class="navi_none"><a href="../../manual/syntax.html" class="link_page_passage">マニュアル/文法</a></li>
</ul>
<hr class="full_hr" />
<div class="contents">
<a id="contents_1"></a>
<ul class="list1 list-indent1"><li><a href="#m573754f">プリプロセス</a>
<ul class="list3 list-indent2"><li><a href="#y197e4c0">#define</a></li>
<li><a href="#r4820e57">#globaldefine</a></li>
<li><a href="#p78b43cf">__AYA_SYSTEM_FILE__</a></li>
<li><a href="#f5bed5b7">__AYA_SYSTEM_LINE__</a></li></ul></li></ul>
</div>

<h2 id="content_1_0">プリプロセス<a class="anchor_super" id="m573754f" href="../../manual/%E6%96%87%E6%B3%95/8.%E3%83%97%E3%83%AA%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9#m573754f.html" style="user-select:none;">&dagger;</a></h2>
<p>プリプロセスは辞書ファイルを読み込んでいる段階で実行される命令です。</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_1">#define<a class="anchor_super" id="y197e4c0" href="../../manual/%E6%96%87%E6%B3%95/8.%E3%83%97%E3%83%AA%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9#y197e4c0.html" style="user-select:none;">&dagger;</a></h4>
<p>辞書ファイルから読み込んだ（パース前の）生の文字列に対して、直接文字列置換を実行します。</p>
<pre class="aya">#define before after</pre>
<p>とすると、これを記述した行より後ろにbeforeが見つかるたびに、それがafterへ置きかえられます。<br /></p>
<p>#define の有効範囲は、宣言した次の行から、そのファイルの終端までです。
置換は記述順に行われますので、先に変換しておきたいものを先に書いてください。<br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_2">#globaldefine<a class="anchor_super" id="r4820e57" href="../../manual/%E6%96%87%E6%B3%95/8.%E3%83%97%E3%83%AA%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9#r4820e57.html" style="user-select:none;">&dagger;</a></h4>
<pre class="aya">#globaldefine before after</pre>
<p>機能は #define ディレクティブと同じです。ただし、有効範囲が異なります。<br /></p>
<p>#globaldefine を宣言すると、次の行以降の全ての範囲（その後に読み込まれる辞書ファイルも含む）で有効になります。
たとえば最初に読み込む辞書ファイルの先頭に #globaldefine を記述すると、その効果はすべての辞書ファイルに及ぶことになります。</p>
<p>#defineが先に処理されます。。#globaldefine は、#define 置換のあとで実行されます。</p>
<pre class="aya">#globaldefine tea green
#define tea milk

&quot;teacup&quot;</pre>
<p>置換結果は&quot;milkcup&quot;となります。</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_3">__AYA_SYSTEM_FILE__<a class="anchor_super" id="p78b43cf" href="../../manual/%E6%96%87%E6%B3%95/8.%E3%83%97%E3%83%AA%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9#p78b43cf.html" style="user-select:none;">&dagger;</a></h4>
<p>[YAYA Tc543-1より]</p>
<p>現在実行中のファイルの(DLLからの)相対パスを調べることができます。<br />
動きは #define __AYA_SYSTEM_FILE__ された時と同じになります。</p>
<pre class="aya">&quot;__AYA_SYSTEM_FILE__&quot;</pre>
<p>置換結果は、たとえば&quot;aya_aitalk.txt&quot;となります。</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_4">__AYA_SYSTEM_LINE__<a class="anchor_super" id="f5bed5b7" href="../../manual/%E6%96%87%E6%B3%95/8.%E3%83%97%E3%83%AA%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9#f5bed5b7.html" style="user-select:none;">&dagger;</a></h4>
<p>[YAYA Tc543-1より]</p>
<p>現在実行中のファイルの何行目かを調べることができます。__AYA_SYSTEM_FILE__ と仕組みは同じです。</p>
<hr class="full_hr" />
<ul class="navi">
 <li class="navi_left"><a href="../../manual/%E6%96%87%E6%B3%95/7.%E3%83%95%E3%83%AD%E3%83%BC%E5%88%B6%E5%BE%A1.html" title="マニュアル/文法/7.フロー制御" class="link_page_passage">Prev</a><br /><a href="../../manual/%E6%96%87%E6%B3%95/7.%E3%83%95%E3%83%AD%E3%83%BC%E5%88%B6%E5%BE%A1.html" class="link_page_passage">マニュアル/文法/7.フロー制御</a></li>
 <li class="navi_right"><a href="../../manual/%E6%96%87%E6%B3%95/9.%E4%BA%88%E7%B4%84%E8%AA%9E.html" title="マニュアル/文法/9.予約語" class="link_page_passage">Next</a><br /><a href="../../manual/%E6%96%87%E6%B3%95/9.%E4%BA%88%E7%B4%84%E8%AA%9E.html" class="link_page_passage">マニュアル/文法/9.予約語</a></li>
 <li class="navi_none"><a href="../../manual/syntax.html" title="マニュアル/文法" class="link_page_passage">Home</a><br /><a href="../../manual/syntax.html" title="マニュアル/文法" class="link_page_passage">Up</a></li>
</ul>
   
   	 	
	</div>
</div>




<table cellspacing=0 width=100%>
<tr><td id=footer>


<div id="lastmodified">
 Last modified on: 2012-10-21 (Sunday) 20:13:24<span class="page_passage"></span></div>


<div id="related">
 Related pages: <a href="../../manual/%E6%96%87%E6%B3%95/7.%E3%83%95%E3%83%AD%E3%83%BC%E5%88%B6%E5%BE%A1.html">マニュアル/文法/7.フロー制御</a><span class="page_passage"></span>
 <a href="../../manual/function/PROCESSGLOBALDEFINE.html">Manual/Function/PROCESSGLOBALDEFINE</a><span class="page_passage"></span>
 <a href="../../manual/%E6%96%87%E6%B3%95/9.%E4%BA%88%E7%B4%84%E8%AA%9E.html">マニュアル/文法/9.予約語</a><span class="page_passage"></span>
 <a href="../../manual/syntax.html">マニュアル/文法</a><span class="page_passage"></span></div>


</td></tr>
</table>

<div id="interface_footer"></div>

<script src="../../interface.js"></script>

</body>
</html>
