
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">


<head profile="http://purl.org/net/ns/metaprof">
 <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
 <meta http-equiv="content-style-type" content="text/css" />

 <title>チュートリアル/2.トークを書いてみる - AYAYA/03</title>
 <link rel="stylesheet" href="style.css" type="text/css" media="screen" charset="UTF-8" />
 <!--<link rel="stylesheet" href="skin/default.css" type="text/css" media="screen" charset="UTF-8" />-->
 <!--<link rel="stylesheet" href="skin/print.css" type="text/css" media="print" charset="UTF-8" />-->
 <!--<link rel="stylesheet" href="/svgd/table.css" type="text/css" />-->
 <!--<link rel="alternate" type="application/rss+xml" title="RSS" href="index.php?cmd=mixirss&amp;ver=0.91" />--> 
 <script type="text/javascript">
 <!--
 // -->
 IMAGE_DIR = 'image/';
 SKIN_DIR = 'skin/';
 </script>
<!-- <script type="text/javascript" src="skin/lang/.js"></script> -->
<!--<script type="text/javascript" src="skin/default.js"></script>-->
<!-- <script type="text/javascript" src="skin/ajax/textloader.js"></script> -->
<!-- <script type="text/javascript" src="skin/ajax/glossary.js"></script> -->
 <!--<script type="text/javascript" src="skin/tzCalculation_LocalTimeZone.js"></script>-->
</head>

<body>

<div id="interface_header"></div>

<div id="interface_content">
   <div id="body">
<h2 id="content_1_0">チュートリアル2.トークを書いてみる<a class="anchor_super" id="t21435ae" href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B#t21435ae" style="user-select:none;">&dagger;</a></h2>
<div class="contents">
<a id="contents_1"></a>
<ul class="list1 list-indent1"><li><a href="#t21435ae">チュートリアル2.トークを書いてみる</a>
<ul class="list2 list-indent1"><li><a href="#i79d6b47">辞書ファイルが入ってるフォルダを開く</a></li>
<li><a href="#b98a7f96">辞書を覗いてみる</a>
<ul class="list3 list-indent1"><li><a href="#z2288282">さくらスクリプトについて</a></li></ul></li>
<li><a href="#w0bd73ff">色んなトークの書き方をしてみる</a>
<ul class="list3 list-indent1"><li><a href="#o0366c49">トークをランダムで選ばれるようにする</a></li>
<li><a href="#m355f624">オリジナル関数を作ってみる</a></li>
<li><a href="#x94ac81c">オリジナル関数を作る時の注意</a></li></ul></li>
<li><a href="#y556722b">辞書を見やすくする</a>
<ul class="list3 list-indent1"><li><a href="#k8fbc64c">空白や改行を入れてみる</a></li>
<li><a href="#lba37c15">コメントアウト</a></li>
<li><a href="#f04bac17">やっちゃいけないこと</a></li></ul></li>
<li><a href="#j32933a6">ゴーストが全然動かない！これってエラー？どうしよう！</a>
<ul class="list3 list-indent1"><li><a href="#o287ea49">自力で調べる</a></li>
<li><a href="#xb070ee5">YAYA用デバッグツールを使う</a></li>
<li><a href="#nc77f863">実行ログを見る</a></li>
<li><a href="#of43a515">スクリプトログを見る</a></li></ul></li></ul></li></ul>
</div>


<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_1">辞書ファイルが入ってるフォルダを開く<a class="anchor_super" id="i79d6b47" href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B#i79d6b47" style="user-select:none;">&dagger;</a></h3>
<p>テンプレートゴーストを立たせてる状態で、開発パレットの一番下にある「開く」というボタンをクリックしてみてください。<br />
そこから「GHOST」を選ぶとyaya.dllやら何やら色々入ったフォルダがでてきます。<br />
そこにある拡張子が「.dic」のファイルがYAYAの辞書ファイルです。<br />
<br />
この辞書ファイルの中に「ゴーストがどうしゃべってどう動くのか」が書いてあります。<br />
これからそれをちょっとづつ編集してゴーストを作ってみます。<br />
<br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_2">辞書を覗いてみる<a class="anchor_super" id="b98a7f96" href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B#b98a7f96" style="user-select:none;">&dagger;</a></h3>
<p>まずはメイン辞書である「dic_main.dic」をテキストエディタで開いてみてください。<br />
<br />
その150行目ぐらいに<br /></p>
<pre class="aya">//起動
OnBoot
{
	&quot;\1\s[10]\0\s[0]こんにちは。\e&quot;
}</pre>
<p>と、いう記述があると思います。<br />
ここが「ゴーストが起動したときしゃべるセリフ」です。<br />
<br />
まぁ初めて見たら「こんにちは。」の文字以外なんじゃこりゃ！だと思うので<br />
以下、一個づつ謎記号を解明してみます。<br />
<br /></p>
<dl class="list1 list-indent1"><dt><span class="noexists"><a href="index.php?cmd=edit&amp;page=OnBoot&amp;refer=%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB%2F2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B">OnBoot</a></span></dt>
<dd>関数名というもの。<br />
この例では「ゴーストが起動したときに呼ばれる」SHIORI Eventの名前が入ってます。<br />
つまり「この後にある{　}に入ってるものはゴースト起動した時のイベントだよ～」という意味。<br />
これを「<span class="noexists"><a href="index.php?cmd=edit&amp;page=OnClose&amp;refer=%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB%2F2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B">OnClose</a></span>」にすると「ゴースト終了する時のイベントだよ～」という意味に変わります。<br />
<br />
詳しくは<a href="http://crow.aqrs.jp/reference/all/Shiori/index.html" rel="nofollow">CROW・SSPリファレンス</a>を見てみてください。<br />
基本的にこのリファレンスに書かれてるSHIORI EventはみんなこのOnBootと同じようなノリで書けます。<br />
<br /></dd>
<dt>{ }</dt>
<dd>関数の中身です。関数名を書いたのあと、この二つの記号でくくって「関数名{関数の中身}」にします。<br />
<br /></dd>
<dt>&quot; &quot;</dt>
<dd>トークやさくらスクリプトは必ずこの記号でくくります。<br />
これや「'　'」でくくってない文字列はトークじゃなく変数名や関数名だと思われてしまいます（「&quot; &quot;」と「'　'」の違い、変数名の意味の説明はまた後で）<br />
<br /></dd>
<dt>\0</dt>
<dd>「これから0番のメインキャラ（さくら側とも呼ぶ）がしゃべったり表情変えたりするぞー」という意味のさくらスクリプト。<br />
この後に書いたテキストは0番のキャラのバルーンに表示されます。<br />
\1の後に書いたテキストは1番の相方キャラ（うにゅう側とも呼ぶ）のバルーンに表示されます。<br />
<br /></dd>
<dt>\s[0]</dt>
<dd>0番サーフェスを表示するさくらスクリプト。<br />
サーフェスとは立ち絵の種類のことです。<br />
\s[1]や\[2]のように番号を変えて書いてみると悲しい顔になったり笑顔になったりします。<br />
（でもこのテンプレートのデフォルトシェルは残念ながら絵が0番と10番しか存在しないので、\s[1]や\[2]と書いても何も変化しません）<br />
<br /></dd>
<dt>\e</dt>
<dd>トークの終了を表すさくらスクリプト。<br />
入れなくても特に問題はないようですが一応念のためトークの最後に入れておきましょう。ほぼおまじないみたいな存在。<br />
<br /></dd></dl>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_3">さくらスクリプトについて<a class="anchor_super" id="z2288282" href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B#z2288282" style="user-select:none;">&dagger;</a></h4>
<p>YAYA以外のSHIORIでも共通して使うものなので、このWikiではこれ以上詳しく説明しません。<br />
これ以外も色んなものがあるので、リファレンスサイトで「実際に使ってみたいと思ってるもの」を「ちょっとづつ」覚えてみてください。<br />
（いきなり全部覚えようとすると頭がパンクします…）<br /></p>
<ul class="list1 list-indent1"><li><a href="http://crow.aqrs.jp/reference/crow/SakuraScript/index.html" rel="nofollow">CROWリファレンス - SakuraScript</a><br /></li>
<li><a href="http://ukadoc.googlecode.com/svn/trunk/manual/list_sakura_script.html" rel="nofollow">UKADOC Project さくらスクリプトリスト</a><br /></li>
<li><a href="http://disc2.s56.xrea.com/manual/list_sakura_script.htm" rel="nofollow">Disc-2 SakuraScriptリスト</a>（ちょっと情報が古い）<br />
<br />
開発パレットの「スクリプト入力」からトークを書いて送信すると、さくらスクリプトを書く練習ができます。<br />
<div class="img_margin" style="text-align:left"><a href="index.php?plugin=attach&amp;refer=%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB%2F2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B&amp;openfile=img_tutorial_02_001.png" title="img_tutorial_02_001.png"><img src="index.php?plugin=ref&amp;page=%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB%2F2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B&amp;src=img_tutorial_02_001.png" alt="img_tutorial_02_001.png" title="img_tutorial_02_001.png" width="562" height="341" /></a></div>

送信して何も問題なさそうだったら実際に辞書に書いて、ちゃんと話すかどうか確認してみましょう。<br />
（OnBootイベントにあるトークは一度ゴーストを終了し、また起動すると確認できます）</li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_4">色んなトークの書き方をしてみる<a class="anchor_super" id="w0bd73ff" href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B#w0bd73ff" style="user-select:none;">&dagger;</a></h3>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_5">トークをランダムで選ばれるようにする<a class="anchor_super" id="o0366c49" href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B#o0366c49" style="user-select:none;">&dagger;</a></h4>
<p>起動するたび毎回同じ挨拶ばかりじゃつまらないので、3種類に増やしてみましょう。<br /></p>
<pre class="aya">OnBoot
 {
 　　　　&quot;\0\s[0]こんにちはー。\e&quot;
 　　　　&quot;\0\s[0]おっすー。\e&quot;
 　　　　&quot;\0\s[0]やっほー。\e&quot;
 }</pre>
<p><strong>YAYAは{　}の中に&quot;　&quot;や'　'でくくった文字列が複数あると、その中のどれか一コだけランダムで選ばれます</strong>。<br />
<br />
<br />
一行にまとめたくなったら、改行の代わりに「;」で区切ります。<br /></p>
<pre class="aya">OnBoot
 {
 　&quot;\0\s[0]こんにちはー。\e&quot; ; &quot;\0\s[0]おっすー。\e&quot; ; &quot;\0\s[0]やっほー。\e&quot;
 }</pre>
<p><br />
<br />
「\0\s[0]」や「\e」を何度も書くのが面倒？<br />
それなら…<br /></p>
<pre class="aya">OnBoot
 {
 　&quot;\0\s[0]&quot;
 　--
 　&quot;こんにちはー。&quot;
 　&quot;おっすー。&quot;
 　&quot;やっほー。&quot;
 　--
 　&quot;\e&quot;
 }</pre>
<p>こう書いてしまう事もできます。<br />
<strong>「--」で区切ると、その区切った中からそれぞれ&quot;　&quot;や'　'でくくった文字列がランダムで1コ選ばれ、くっつけて表示されます</strong>。<br />
<br />
これもこうすると一行で書けます（みづらいけど）<br /></p>
<pre class="aya">OnBoot
 {
 　&quot;\0\s[0]&quot; ; -- ; &quot;こんにちはー。&quot; ; &quot;おっすー。&quot; ; &quot;やっほー。&quot; ; -- ; &quot;\e&quot;
 }</pre>
<p><br /></p>
<pre class="aya">OnBoot
 {
 　&quot;きょうは&quot;//←&lt;1&gt;この2つのどっちかが選ばれる
 　&quot;明日は&quot;//←&lt;2&gt;
 　--
 　&quot;晴れ&quot;//←(1)この4つの中のどれかが選ばれる
 　&quot;雨&quot;//←(2)
 　&quot;曇り&quot;//←(3)
 　&quot;雷&quot;//←(4)
 　--
 　&quot;です。&quot;//←1コしかないので必ずコレが選ばれる
 }</pre>
<p>こう書くと<br />
「きょうは雨です。」<br />
「明日は曇りです。」<br />
「きょうは晴れです。」<br />
「明日は雷です。」<br />
「明日は晴れです。」<br />
…といったトークが毎回ランダムで作られるわけです。<br />
トークのバリエーションが広がりますね。<br />
<br />
でも、これだと本当にランダムなので同じ単語が連続して選ばれてしまう事もあります。<br />
それを回避したい時は…<br /></p>
<pre class="aya">OnBoot : nonoverlap
 {
 　&quot;\0\s[0]&quot;
 　--
 　&quot;こんにちはー。&quot;
 　&quot;おっすー。&quot;
 　&quot;やっほー。&quot;
 　--
 　\e
 }</pre>
<p>関数名の後ろに「 : nonoverlap」をつけましょう。同じ文が連続して選ばれなくなります。<br />
上から順番に選ばせたい時は「 : sequential」です。<br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_6">オリジナル関数を作ってみる<a class="anchor_super" id="m355f624" href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B#m355f624" style="user-select:none;">&dagger;</a></h4>
<pre class="aya">OnBoot
 {
 　&quot;\0\s[0]きょうは&quot;
 　&quot;\0\s[0]明日は&quot;
 　--
 　&quot;晴れ&quot;
 　&quot;雨&quot;
 　&quot;曇り&quot;
 　&quot;雷&quot;
 　--
 　&quot;です。\e&quot;
 }</pre>
<p>上でも書いたコレを</p>
<pre class="aya">OnBoot
 {
 　&quot;\0\s[0]きょうは&quot;
 　&quot;\0\s[0]明日は&quot;
 　--
 　天気一覧
 　--
 　&quot;です。\e&quot;
 }
 
 天気一覧
 {
 　&quot;晴れ&quot;
 　&quot;雨&quot;
 　&quot;曇り&quot;
 　&quot;雷&quot;
 }</pre>
<p>こんな風に、独立したオリジナル関数を作ってそれを呼び出して書くことも可能です。<br />
こう書くとどんなイイ事があるかっていうと…<br /></p>
<pre class="aya">OnBoot
 {
 　&quot;\0\s[0]きょうは&quot;
 　&quot;\0\s[0]明日は&quot;
 　--
 　天気一覧
 　--
 　&quot;です。\e&quot;
 }

 OnGhostChanged
 {
 　&quot;\0\s[0]昨日は&quot;
 　--
 　天気一覧
 　--
 　&quot;だったよ。\e&quot;
 } 

 天気一覧
 {
 　&quot;晴れ&quot;
 　&quot;雨&quot;
 　&quot;曇り&quot;
 　&quot;雷&quot;
 }</pre>
<p>こんな風に複数の関数から呼び出せるので使いまわしできるってことです。</p>
<pre class="aya">OnBoot
 {
 　&quot;\0\s[0]きょうは%(天気一覧)です。\e&quot;
 }
 
 天気一覧
 {
 　&quot;晴れ&quot;
 　&quot;雨&quot;
 　&quot;曇り&quot;
 　&quot;雷&quot;
 }</pre>
<p>「&quot;　&quot;」の中身から関数を呼び出したいときは、こうやって「%(関数名)」と書きます。<br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_7">オリジナル関数を作る時の注意<a class="anchor_super" id="x94ac81c" href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B#x94ac81c" style="user-select:none;">&dagger;</a></h4>
<p>関数名（上の例でいうと「天気一覧」の文字）は英語でも日本語でもいいんですが、以下のルールを守る必要があります。<br /></p>
<ul class="list1 list-indent1"><li>半角数字から始まる関数名はダメ （「5test」はNG、「test5」や「te5st」はOK）</li>
<li>頭に「_」を付けちゃダメ （ローカル変数と間違われます）</li>
<li>「空白　!　&quot;　#　$　%　&amp;　(　)　*　+　,　-　/　:　;　&lt;　=　&gt;　?　@　[　]　`　{　|　}」のどれかの文字を入れちゃダメ</li>
<li>など</li></ul>
<p>詳しくは<a href="index.php?%E3%83%9E%E3%83%8B%E3%83%A5%E3%82%A2%E3%83%AB/%E6%96%87%E6%B3%95/2.%E9%96%A2%E6%95%B0#f5f27796" class="link_page_passage">マニュアル/文法/2.関数</a>ページを見てください。</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_8">辞書を見やすくする<a class="anchor_super" id="y556722b" href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B#y556722b" style="user-select:none;">&dagger;</a></h3>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_9">空白や改行を入れてみる<a class="anchor_super" id="k8fbc64c" href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B#k8fbc64c" style="user-select:none;">&dagger;</a></h4>
<p>最初に関数名を書く、中身を「{}」でくくる、という書き方のルールがちゃんと合ってれば<br />
こんな風に書いても<br /></p>
<pre class="aya">OnBoot {
 &quot;\1\s[10]\0\s[0]こんにちは。\e&quot;
 }</pre>
<p>こんな風に書いちゃっても構いません。</p>
<pre class="aya">OnBoot { &quot;\1\s[10]\0\s[0]こんにちは。\e&quot; }</pre>
<p>OnBootと{の間などにある空白・改行は、入れても入れなくても大丈夫。タブをいれてもOK。<br />
自分の見やすい、書きやすい書き方に整えてみてください。<br /></p>
<pre class="aya">OnBoot{&quot;\1\s[10]\0\s[0]こんにちは。\e&quot;}</pre>
<p>基本的に&quot;&quot;の外にある空白やタブ、改行は無視されるので、</p>
<pre class="aya">OnBoot
 　　{
 　  
 　　　　　&quot;\1\s[10]\0\s[0]こんにちは。\e&quot;
 　
 　　　　　　　　　　　}</pre>
<p>こんなんでもよし。<br />
要するに</p>
<pre class="aya">【ここ】OnBoot【ここ】{【ここ】&quot;\0\s[0]いっちばーん。\e&quot;【ここ】}【ここ】</pre>
<p>上の【ここ】の所に空白(半角空白、全角空白、タブ)や改行をいくらでも入れまくれるって訳です。<br />
<br />
YAYAの辞書はこの仕組みを使って綺麗に見易く整える事ができます。<br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_10">コメントアウト<a class="anchor_super" id="lba37c15" href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B#lba37c15" style="user-select:none;">&dagger;</a></h4>
<p>コメントアウトを使うと、その部分だけ辞書として読み込まれなくなります。<br />
「メモや注釈入れたい」「書いた辞書の一部を一時的に隔離しておきたい」って時に便利。
<br />
やり方はコメントアウトしたい行の一番左端に「//」を入れるだけ！<br /></p>
<pre class="aya">// 起動イベント
 OnBoot
 {
 　&quot;\0\s[0]こんにちはー。\e&quot;
 }</pre>
<p>↓こんな位置にも入れられます。<br />
つまり「//」がついた所から一番右端の部分までが全てコメントアウトになります。</p>
<pre class="aya">OnBoot
{
　&quot;\0\s[0]こんにちはー。\e&quot;// 起動トーク
}</pre>
<p>「/*」と「*/」でくくってもコメントアウトになります。<br />
複数行一気にコメントアウトできるので、行数が多いならこっちの方が楽。<br />
どこからどこまでコメントアウト部分かわかりづらいのが難点？<br /></p>
<pre class="aya">/*
 起動イベント
 一番最初に起動した時呼ばれる
 */
 OnBoot
 {
 　&quot;\0\s[0]こんにちはー。\e&quot;
 }</pre>
<p>後で辞書を見返した時どこが何なのかすぐ思い返せるよう、注釈をばんばん入れておきましょう。</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_11">やっちゃいけないこと<a class="anchor_super" id="f04bac17" href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B#f04bac17" style="user-select:none;">&dagger;</a></h4>
<p>こんなことやるとエラーが出てゴーストがピクリとも動かなくなるので注意！<br /></p>
<pre class="aya">OnBoot
{
　&quot;\0\s[0]改行\n
　します。\e&quot;
}</pre>
<p>&quot;　&quot;や'　'でくくってる文字列の途中を改行してしまうとエラー。<br />
そんなときは<br /></p>
<pre class="aya">OnBoot
 {
 　&quot;\0\s[0]改行\n/
 　します。\e&quot;
 }</pre>
<p>こうやって行末に「/」を入れれば改行できます。<br />
それと、YAYA Tc535-1から<a href="index.php?%E3%83%9E%E3%83%8B%E3%83%A5%E3%82%A2%E3%83%AB/%E6%96%87%E6%B3%95/3.%E5%80%A4%E3%81%A8%E5%A4%89%E6%95%B0#t3fceb2b" title="マニュアル/文法/3.値と変数" class="link_page_passage">ヒアドキュメント</a>という書き方もできるようになりました。<br /></p>
<pre class="aya">//起動
OnBoot
{
	&quot;\1\s[10]\0\s[0]こんにちは。\e&quot;
}

OnBoot
{
	&quot;\1\s[10]\0\s[0]やっほー！\e&quot;
}</pre>
<p>同じ名前の関数を2つ以上書いちゃだめです。必ず1個だけ！<br />
<br />
こういったルールをちゃんと守れば、どの辞書ファイルのどこに関数を書いても問題ありません。<br />
（でもシステム辞書のyaya_shiori3.dicに書くのはなるべくやめたほうがいいです）<br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_12">ゴーストが全然動かない！これってエラー？どうしよう！<a class="anchor_super" id="j32933a6" href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B#j32933a6" style="user-select:none;">&dagger;</a></h3>
<p>落ち着いてエラーの原因を調べてみましょう。<br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_13">自力で調べる<a class="anchor_super" id="o287ea49" href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B#o287ea49" style="user-select:none;">&dagger;</a></h4>
<p>以前まではきちんとゴーストが動いてた訳で、当然エラーの原因はその後に書いた辞書。<br />
辞書の中の自分でいじった所を良く見てみる。<br />
カッコの閉じ忘れなんかが多いです。<br />
<br />
それでもわからない場合はあやしげな部分を一時的にコメントアウトしてゴースト再起動。それで正常にゴーストが起動したらビンゴ！</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_14">YAYA用デバッグツールを使う<a class="anchor_super" id="xb070ee5" href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B#xb070ee5" style="user-select:none;">&dagger;</a></h4>
<p>前回用意したアレ。<br />
詳しくは<a href="index.php?Tips/%E7%8E%89%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E8%BE%9E%E6%9B%B8%E3%82%A8%E3%83%A9%E3%83%BC%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF" class="link_page_passage">Tips/玉を使った辞書エラーチェック</a>ページを。<br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_15">実行ログを見る<a class="anchor_super" id="nc77f863" href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B#nc77f863" style="user-select:none;">&dagger;</a></h4>
<p>yaya.dllと同じ階層にあるyaya.txtを開いてみてください。<br /></p>
<pre>//log, ayame.log	// ログを指定されたファイルに記録</pre>
<p>という項目があるので<br /></p>
<pre>log, ayame.log	// ログを指定されたファイルに記録</pre>
<p>一番左の「//」を削って上書き保存。<br />
もう一度ゴーストを起動すると「ayame.log」が出力されるので、それを覗いてみましょう。<br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_16">スクリプトログを見る<a class="anchor_super" id="of43a515" href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B#of43a515" style="user-select:none;">&dagger;</a></h4>
<p>ゴーストに一体どんなさくらスクリプトが送られてるのか知りたい時に有効。<br />
使い方は「SSPでゴーストを右クリック→機能→スクリプトログ」</p>
<p><br />
<br /></p>
<ul class="list1 list-indent1"><li>→　<a href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/3.%E5%A4%89%E6%95%B0%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%88%E3%81%86" class="link_page_passage">チュートリアル/3.変数を使ってみよう</a>へ進む</li>
<li>←　<a href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/1.%E6%BA%96%E5%82%99" class="link_page_passage">チュートリアル/1.準備</a>へ戻る</li></ul>
   
   	 	
	</div>
</div>



<div id="attach">
<hr class="full_hr" />添付ファイル: <a href="index.php?plugin=attach&amp;pcmd=open&amp;file=img_tutorial_02_001.png&amp;refer=%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB%2F2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B" title="2013/12/31 17:30:15 16.2KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0" />img_tutorial_02_001.png</a> <span class="small">2226件</span>
<span class="small">[<a href="index.php?plugin=attach&amp;pcmd=info&amp;file=img_tutorial_02_001.png&amp;refer=%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB%2F2.%E3%83%88%E3%83%BC%E3%82%AF%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B" title="添付ファイルの情報">詳細</a>]</span>
 
</div>

<table cellspacing=0 width=100%>
<tr><td id=footer>


<div id="lastmodified">
 Last modified on: 2014-01-04 (Saturday) 14:25:32<span class="page_passage"></span></div>


<div id="related">
 Related pages: <a href="index.php?%E3%83%9E%E3%83%8B%E3%83%A5%E3%82%A2%E3%83%AB/%E6%96%87%E6%B3%95/3.%E5%80%A4%E3%81%A8%E5%A4%89%E6%95%B0">マニュアル/文法/3.値と変数</a><span class="page_passage"></span>
 <a href="index.php?Tips/%E7%8E%89%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E8%BE%9E%E6%9B%B8%E3%82%A8%E3%83%A9%E3%83%BC%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF">Tips/玉を使った辞書エラーチェック</a><span class="page_passage"></span>
 <a href="index.php?%E3%83%9E%E3%83%8B%E3%83%A5%E3%82%A2%E3%83%AB/%E6%96%87%E6%B3%95/2.%E9%96%A2%E6%95%B0">マニュアル/文法/2.関数</a><span class="page_passage"></span>
 <a href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/3.%E5%A4%89%E6%95%B0%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%88%E3%81%86">チュートリアル/3.変数を使ってみよう</a><span class="page_passage"></span>
 <a href="index.php?%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/1.%E6%BA%96%E5%82%99">チュートリアル/1.準備</a><span class="page_passage"></span></div>


</td></tr>
</table>

<div id="interface_footer"></div>

<script src="interface.js"></script>

</body>
</html>
